{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeSafeAreaContext","_uikitReactNativeFoundation","_uikitUtils","_useContext","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","obj","__esModule","default","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","FileViewer","_ref","headerShown","deleteMessage","headerTopInset","fileMessage","onPressDownload","onPressDelete","onClose","loading","setLoading","useState","bottom","useSafeAreaInsets","currentUser","useSendbirdChat","palette","useUIKitTheme","topInset","statusBarTranslucent","defaultHeight","useHeaderStyle","STRINGS","useLocalization","fileService","mediaService","usePlatformService","toast","useToast","alert","useAlert","basicTopInset","canDelete","isMyMessage","userId","fileType","getFileType","type","getFileExtension","url","useEffect","fileViewer","useIIFE","createElement","Image","source","uri","style","StyleSheet","absoluteFill","resizeMode","onLoadEnd","VideoComponent","top","onLoad","_onPressDelete","title","LABELS","CHANNEL_MESSAGE_DELETE_CONFIRM_TITLE","buttons","text","CHANNEL_MESSAGE_DELETE_CONFIRM_CANCEL","CHANNEL_MESSAGE_DELETE_CONFIRM_OK","onPress","then","catch","show","TOAST","DELETE_MSG_ERROR","_onPressDownload","toMegabyte","size","DOWNLOAD_START","save","fileUrl","fileName","name","response","DOWNLOAD_OK","Logger","log","err","DOWNLOAD_ERROR","View","flex","backgroundColor","background700","StatusBar","barStyle","animated","alignItems","justifyContent","LoadingSpinner","position","color","primary300","FileViewerHeader","FILE_VIEWER","TITLE","subtitle","SUBTITLE","FileViewerFooter","bottomInset","deleteShown","_ref2","left","right","styles","headerContainer","paddingLeft","paddingHorizontal","paddingRight","paddingTop","height","overlay01","TouchableOpacity","barButton","Icon","icon","onBackgroundDark01","barTitleContainer","Text","h2","headerTitle","numberOfLines","truncate","mode","maxLen","caption2","_ref3","footerContainer","paddingBottom","disabled","createStyleSheet","flexDirection","width","marginBottom","_default","exports"],"sources":["FileViewer.tsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { StatusBar, StyleSheet, TouchableOpacity, View } from 'react-native';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\n\nimport {\n  Icon,\n  Image,\n  LoadingSpinner,\n  Text,\n  createStyleSheet,\n  useAlert,\n  useHeaderStyle,\n  useToast,\n  useUIKitTheme,\n} from '@sendbird/uikit-react-native-foundation';\nimport type { SendbirdFileMessage } from '@sendbird/uikit-utils';\nimport {\n  Logger,\n  getFileExtension,\n  getFileType,\n  isMyMessage,\n  toMegabyte,\n  truncate,\n  useIIFE,\n} from '@sendbird/uikit-utils';\n\nimport { useLocalization, usePlatformService, useSendbirdChat } from '../hooks/useContext';\n\ntype Props = {\n  fileMessage: SendbirdFileMessage;\n  deleteMessage: () => Promise<void>;\n\n  onClose: () => void;\n  onPressDownload?: (message: SendbirdFileMessage) => void;\n  onPressDelete?: (message: SendbirdFileMessage) => void;\n\n  headerShown?: boolean;\n  headerTopInset?: number;\n};\nconst FileViewer = ({\n  headerShown = true,\n  deleteMessage,\n  headerTopInset,\n  fileMessage,\n  onPressDownload,\n  onPressDelete,\n  onClose,\n}: Props) => {\n  const [loading, setLoading] = useState(true);\n\n  const { bottom } = useSafeAreaInsets();\n\n  const { currentUser } = useSendbirdChat();\n  const { palette } = useUIKitTheme();\n  const { topInset, statusBarTranslucent, defaultHeight } = useHeaderStyle();\n  const { STRINGS } = useLocalization();\n  const { fileService, mediaService } = usePlatformService();\n  const toast = useToast();\n  const { alert } = useAlert();\n\n  const basicTopInset = statusBarTranslucent ? topInset : 0;\n  const canDelete = isMyMessage(fileMessage, currentUser?.userId);\n  const fileType = getFileType(fileMessage.type || getFileExtension(fileMessage.url));\n\n  useEffect(() => {\n    if (fileType === 'file') onClose();\n  }, []);\n\n  const fileViewer = useIIFE(() => {\n    switch (fileType) {\n      case 'image': {\n        return (\n          <Image\n            source={{ uri: fileMessage.url }}\n            style={StyleSheet.absoluteFill}\n            resizeMode={'contain'}\n            onLoadEnd={() => setLoading(false)}\n          />\n        );\n      }\n\n      case 'video':\n      case 'audio': {\n        return (\n          <mediaService.VideoComponent\n            source={{ uri: fileMessage.url }}\n            style={[StyleSheet.absoluteFill, { top: basicTopInset + defaultHeight, bottom: defaultHeight + bottom }]}\n            resizeMode={'contain'}\n            onLoad={() => setLoading(false)}\n          />\n        );\n      }\n\n      default: {\n        return null;\n      }\n    }\n  });\n\n  const _onPressDelete = () => {\n    if (!canDelete) return;\n\n    if (onPressDelete) {\n      onPressDelete(fileMessage);\n    } else {\n      alert({\n        title: STRINGS.LABELS.CHANNEL_MESSAGE_DELETE_CONFIRM_TITLE,\n        buttons: [\n          {\n            text: STRINGS.LABELS.CHANNEL_MESSAGE_DELETE_CONFIRM_CANCEL,\n          },\n          {\n            text: STRINGS.LABELS.CHANNEL_MESSAGE_DELETE_CONFIRM_OK,\n            style: 'destructive',\n            onPress: () => {\n              deleteMessage()\n                .then(() => {\n                  onClose();\n                })\n                .catch(() => {\n                  toast.show(STRINGS.TOAST.DELETE_MSG_ERROR, 'error');\n                });\n            },\n          },\n        ],\n      });\n    }\n  };\n\n  const _onPressDownload = () => {\n    if (onPressDownload) {\n      onPressDownload(fileMessage);\n    } else {\n      if (toMegabyte(fileMessage.size) > 4) {\n        toast.show(STRINGS.TOAST.DOWNLOAD_START, 'success');\n      }\n\n      fileService\n        .save({ fileUrl: fileMessage.url, fileName: fileMessage.name, fileType: fileMessage.type })\n        .then((response) => {\n          toast.show(STRINGS.TOAST.DOWNLOAD_OK, 'success');\n          Logger.log('File saved to', response);\n        })\n        .catch((err) => {\n          toast.show(STRINGS.TOAST.DOWNLOAD_ERROR, 'error');\n          Logger.log('File save failure', err);\n        });\n    }\n  };\n\n  return (\n    <View style={{ flex: 1, backgroundColor: palette.background700 }}>\n      <StatusBar barStyle={'light-content'} animated />\n      <View style={{ flex: 1, alignItems: 'center', justifyContent: 'center' }}>\n        {fileViewer}\n        {loading && <LoadingSpinner style={{ position: 'absolute' }} size={40} color={palette.primary300} />}\n      </View>\n      {headerShown && (\n        <FileViewerHeader\n          title={STRINGS.FILE_VIEWER.TITLE(fileMessage)}\n          subtitle={STRINGS.FILE_VIEWER.SUBTITLE(fileMessage)}\n          topInset={headerTopInset ?? basicTopInset}\n          onClose={onClose}\n        />\n      )}\n      <FileViewerFooter\n        bottomInset={bottom}\n        deleteShown={canDelete}\n        onPressDelete={_onPressDelete}\n        onPressDownload={_onPressDownload}\n      />\n    </View>\n  );\n};\n\ntype HeaderProps = {\n  topInset: number;\n  onClose: () => void;\n  title: string;\n  subtitle: string;\n};\nconst FileViewerHeader = ({ topInset, onClose, subtitle, title }: HeaderProps) => {\n  const { palette } = useUIKitTheme();\n  const { defaultHeight } = useHeaderStyle();\n  const { left, right } = useSafeAreaInsets();\n\n  return (\n    <View\n      style={[\n        styles.headerContainer,\n        {\n          paddingLeft: styles.headerContainer.paddingHorizontal + left,\n          paddingRight: styles.headerContainer.paddingHorizontal + right,\n        },\n        { paddingTop: topInset, height: defaultHeight + topInset, backgroundColor: palette.overlay01 },\n      ]}\n    >\n      <TouchableOpacity onPress={onClose} style={styles.barButton}>\n        <Icon icon={'close'} size={24} color={palette.onBackgroundDark01} />\n      </TouchableOpacity>\n      <View style={styles.barTitleContainer}>\n        <Text h2 color={palette.onBackgroundDark01} style={styles.headerTitle} numberOfLines={1}>\n          {truncate(title, { mode: 'mid', maxLen: 18 })}\n        </Text>\n        <Text caption2 color={palette.onBackgroundDark01} numberOfLines={1}>\n          {subtitle}\n        </Text>\n      </View>\n      <View style={styles.barButton} />\n    </View>\n  );\n};\n\ntype FooterProps = {\n  bottomInset: number;\n  deleteShown: boolean;\n  onPressDelete: () => void;\n  onPressDownload: () => void;\n};\nconst FileViewerFooter = ({ bottomInset, deleteShown, onPressDelete, onPressDownload }: FooterProps) => {\n  const { palette } = useUIKitTheme();\n  const { defaultHeight } = useHeaderStyle();\n  const { left, right } = useSafeAreaInsets();\n\n  return (\n    <View\n      style={[\n        styles.footerContainer,\n        {\n          paddingLeft: styles.headerContainer.paddingHorizontal + left,\n          paddingRight: styles.headerContainer.paddingHorizontal + right,\n        },\n        {\n          paddingBottom: bottomInset,\n          height: defaultHeight + bottomInset,\n          backgroundColor: palette.overlay01,\n        },\n      ]}\n    >\n      <TouchableOpacity onPress={onPressDownload} style={styles.barButton}>\n        <Icon icon={'download'} size={24} color={palette.onBackgroundDark01} />\n      </TouchableOpacity>\n      <View style={styles.barTitleContainer} />\n      <TouchableOpacity onPress={onPressDelete} style={styles.barButton} disabled={!deleteShown}>\n        {deleteShown && <Icon icon={'delete'} size={24} color={palette.onBackgroundDark01} />}\n      </TouchableOpacity>\n    </View>\n  );\n};\n\nconst styles = createStyleSheet({\n  headerContainer: {\n    top: 0,\n    left: 0,\n    right: 0,\n    position: 'absolute',\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingHorizontal: 12,\n  },\n  barButton: {\n    width: 32,\n    height: 32,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  barTitleContainer: {\n    flex: 1,\n    alignItems: 'center',\n    justifyContent: 'center',\n  },\n  headerTitle: {\n    marginBottom: 2,\n  },\n  footerContainer: {\n    position: 'absolute',\n    left: 0,\n    right: 0,\n    bottom: 0,\n    flexDirection: 'row',\n    alignItems: 'center',\n    justifyContent: 'center',\n    paddingHorizontal: 12,\n  },\n});\n\nexport default FileViewer;\n"],"mappings":"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"}