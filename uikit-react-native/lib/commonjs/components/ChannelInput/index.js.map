{"version":3,"names":["_react","_interopRequireWildcard","require","_reactNative","_reactNativeSafeAreaContext","_uikitReactNativeFoundation","_uikitUtils","_useContext","_useMentionTextInput","_interopRequireDefault","_EditInput","_SendInput","obj","__esModule","default","_getRequireWildcardCache","nodeInterop","WeakMap","cacheBabelInterop","cacheNodeInterop","cache","has","get","newObj","hasPropertyDescriptor","Object","defineProperty","getOwnPropertyDescriptor","key","prototype","hasOwnProperty","call","desc","set","_extends","assign","bind","target","i","arguments","length","source","apply","AUTO_FOCUS","Platform","select","ios","android","KEYBOARD_AVOID_VIEW_BEHAVIOR","undefined","GET_INPUT_KEY","shouldReset","ChannelInput","props","channel","keyboardAvoidOffset","messageToEdit","setMessageToEdit","top","left","right","bottom","useSafeAreaInsets","colors","useUIKitTheme","features","mentionManager","useSendbirdChat","selection","onSelectionChange","textInputRef","text","onChangeText","mentionedUsers","useMentionTextInput","inputMode","useIIFE","isFileMessage","mentionAvailable","userMentionEnabled","isGroupChannel","isBroadcast","inputKeyToRemount","inputHeight","setInputHeight","useState","styles","inputDefault","height","useTypingTrigger","useTextPersistenceOnDisabled","inputDisabled","useAutoFocusOnEditMode","onPressToMention","user","searchStringRange","mentionedMessageText","asMentionedMessageText","range","start","end","replace","shouldRenderInput","createElement","SafeAreaBottom","Fragment","KeyboardAvoidingView","keyboardVerticalOffset","behavior","View","style","paddingLeft","paddingRight","backgroundColor","background","onLayout","e","nativeEvent","layout","inputContainer","ref","autoFocus","SuggestedMentionList","topInset","bottomInset","useEffect","endTyping","startTyping","setText","chatDisabled","textTmpRef","useRef","current","isUserMessage","setTimeout","_textInputRef$current","focus","_ref","createStyleSheet","justifyContent","width","_default","React","memo","exports"],"sources":["index.tsx"],"sourcesContent":["import React, { MutableRefObject, useEffect, useRef, useState } from 'react';\nimport { KeyboardAvoidingView, Platform, TextInput, View } from 'react-native';\nimport { useSafeAreaInsets } from 'react-native-safe-area-context';\n\nimport { createStyleSheet, useUIKitTheme } from '@sendbird/uikit-react-native-foundation';\nimport {\n  SendbirdBaseChannel,\n  SendbirdBaseMessage,\n  SendbirdFileMessage,\n  SendbirdFileMessageCreateParams,\n  SendbirdFileMessageUpdateParams,\n  SendbirdMember,\n  SendbirdUserMessage,\n  SendbirdUserMessageCreateParams,\n  SendbirdUserMessageUpdateParams,\n  replace,\n  useIIFE,\n} from '@sendbird/uikit-utils';\n\nimport { useSendbirdChat } from '../../hooks/useContext';\nimport useMentionTextInput from '../../hooks/useMentionTextInput';\nimport type { FileType } from '../../platform/types';\nimport type { MentionedUser, Range } from '../../types';\nimport EditInput from './EditInput';\nimport SendInput from './SendInput';\n\ntype UserMessageMentionParams = Required<{\n  messageTemplate: SendbirdUserMessageCreateParams['mentionedMessageTemplate'];\n  userIds: SendbirdUserMessageCreateParams['mentionedUserIds'];\n  type: SendbirdUserMessageCreateParams['mentionType'];\n}>;\n\nexport type SuggestedMentionListProps = {\n  text: string;\n  selection: Range;\n  topInset: number;\n  bottomInset: number;\n  inputHeight: number;\n  onPressToMention: (user: SendbirdMember, searchStringRange: Range) => void;\n  mentionedUsers: MentionedUser[];\n};\n\nexport type ChannelInputProps = {\n  // default\n  channel: SendbirdBaseChannel;\n  shouldRenderInput: boolean;\n  keyboardAvoidOffset: number;\n\n  // default actions\n  onPressSendUserMessage: (params: SendbirdUserMessageCreateParams) => Promise<void>;\n  onPressSendFileMessage: (params: SendbirdFileMessageCreateParams) => Promise<void>;\n  onPressUpdateUserMessage: (message: SendbirdUserMessage, params: SendbirdUserMessageUpdateParams) => Promise<void>;\n  onPressUpdateFileMessage: (message: SendbirdFileMessage, params: SendbirdFileMessageUpdateParams) => Promise<void>;\n\n  // input status\n  inputFrozen: boolean;\n  inputMuted: boolean;\n  inputDisabled: boolean;\n\n  // edit\n  messageToEdit: undefined | SendbirdUserMessage | SendbirdFileMessage;\n  setMessageToEdit: (message?: undefined | SendbirdUserMessage | SendbirdFileMessage) => void;\n\n  // mention\n  SuggestedMentionList?: (props: SuggestedMentionListProps) => JSX.Element | null;\n\n  /** @deprecated Please use `onPressSendUserMessage` **/\n  onSendFileMessage?: (file: FileType) => Promise<void>;\n  /** @deprecated Please use `onPressSendFileMessage` **/\n  onSendUserMessage?: (text: string, mention?: UserMessageMentionParams) => Promise<void>;\n  /** @deprecated Please use `onPressUpdateUserMessage` **/\n  onUpdateFileMessage?: (editedFile: FileType, message: SendbirdFileMessage) => Promise<void>;\n  /** @deprecated Please use `onPressUpdateFileMessage` **/\n  onUpdateUserMessage?: (\n    editedText: string,\n    message: SendbirdUserMessage,\n    mention?: UserMessageMentionParams,\n  ) => Promise<void>;\n};\n\nconst AUTO_FOCUS = Platform.select({ ios: false, android: true, default: false });\nconst KEYBOARD_AVOID_VIEW_BEHAVIOR = Platform.select({ ios: 'padding' as const, default: undefined });\n\n// FIXME(iOS): Dynamic style does not work properly when typing the CJK. (https://github.com/facebook/react-native/issues/26107)\n//  To workaround temporarily, change the key for re-mount the component.\n//  -> This will affect to keyboard blur when add/remove first mentioned user.\nconst GET_INPUT_KEY = (shouldReset: boolean) => (shouldReset ? 'uikit-input-clear' : 'uikit-input');\n\n// TODO: Refactor 'Edit' mode to clearly\nconst ChannelInput = (props: ChannelInputProps) => {\n  const { channel, keyboardAvoidOffset, messageToEdit, setMessageToEdit } = props;\n\n  const { top, left, right, bottom } = useSafeAreaInsets();\n  const { colors } = useUIKitTheme();\n  const { features, mentionManager } = useSendbirdChat();\n\n  const { selection, onSelectionChange, textInputRef, text, onChangeText, mentionedUsers } = useMentionTextInput({\n    messageToEdit,\n  });\n  const inputMode = useIIFE(() => {\n    if (!messageToEdit) return 'send';\n    if (messageToEdit.isFileMessage()) return 'send';\n    return 'edit';\n  });\n\n  const mentionAvailable = features.userMentionEnabled && channel.isGroupChannel() && !channel.isBroadcast;\n  const inputKeyToRemount = GET_INPUT_KEY(mentionAvailable ? mentionedUsers.length === 0 : false);\n\n  const [inputHeight, setInputHeight] = useState(styles.inputDefault.height);\n\n  useTypingTrigger(text, channel);\n  useTextPersistenceOnDisabled(text, onChangeText, props.inputDisabled);\n  useAutoFocusOnEditMode(textInputRef, messageToEdit);\n\n  const onPressToMention = (user: SendbirdMember, searchStringRange: Range) => {\n    const mentionedMessageText = mentionManager.asMentionedMessageText(user, true);\n    const range = { start: searchStringRange.start, end: searchStringRange.start + mentionedMessageText.length - 1 };\n\n    onChangeText(replace(text, searchStringRange.start, searchStringRange.end, mentionedMessageText), { user, range });\n  };\n\n  if (!props.shouldRenderInput) {\n    return <SafeAreaBottom height={bottom} />;\n  }\n\n  return (\n    <>\n      <KeyboardAvoidingView\n        keyboardVerticalOffset={-bottom + keyboardAvoidOffset}\n        behavior={KEYBOARD_AVOID_VIEW_BEHAVIOR}\n      >\n        <View style={{ paddingLeft: left, paddingRight: right, backgroundColor: colors.background }}>\n          <View onLayout={(e) => setInputHeight(e.nativeEvent.layout.height)} style={styles.inputContainer}>\n            {inputMode === 'send' && (\n              <SendInput\n                {...props}\n                key={inputKeyToRemount}\n                ref={textInputRef as never}\n                text={text}\n                onChangeText={onChangeText}\n                onSelectionChange={onSelectionChange}\n                mentionedUsers={mentionedUsers}\n              />\n            )}\n            {inputMode === 'edit' && messageToEdit && (\n              <EditInput\n                {...props}\n                key={inputKeyToRemount}\n                ref={textInputRef as never}\n                text={text}\n                onChangeText={onChangeText}\n                autoFocus={AUTO_FOCUS}\n                onSelectionChange={onSelectionChange}\n                messageToEdit={messageToEdit}\n                mentionedUsers={mentionedUsers}\n                setMessageToEdit={setMessageToEdit}\n              />\n            )}\n          </View>\n          <SafeAreaBottom height={bottom} />\n        </View>\n      </KeyboardAvoidingView>\n      {mentionAvailable && props.SuggestedMentionList && (\n        <props.SuggestedMentionList\n          text={text}\n          selection={selection}\n          inputHeight={inputHeight}\n          topInset={top}\n          bottomInset={bottom}\n          onPressToMention={onPressToMention}\n          mentionedUsers={mentionedUsers}\n        />\n      )}\n    </>\n  );\n};\n\nconst useTypingTrigger = (text: string, channel: SendbirdBaseChannel) => {\n  if (channel.isGroupChannel()) {\n    useEffect(() => {\n      if (text.length === 0) channel.endTyping();\n      else channel.startTyping();\n    }, [text]);\n  }\n};\n\nconst useTextPersistenceOnDisabled = (text: string, setText: (val: string) => void, chatDisabled: boolean) => {\n  const textTmpRef = useRef('');\n\n  useEffect(() => {\n    if (chatDisabled) {\n      textTmpRef.current = text;\n      setText('');\n    } else {\n      setText(textTmpRef.current);\n    }\n  }, [chatDisabled]);\n};\n\nconst useAutoFocusOnEditMode = (\n  textInputRef: MutableRefObject<TextInput | undefined>,\n  messageToEdit?: SendbirdBaseMessage,\n) => {\n  useEffect(() => {\n    if (messageToEdit?.isUserMessage()) {\n      if (!AUTO_FOCUS) setTimeout(() => textInputRef.current?.focus(), 500);\n    }\n  }, [messageToEdit]);\n};\n\nconst SafeAreaBottom = ({ height }: { height: number }) => {\n  return <View style={{ height }} />;\n};\n\nconst styles = createStyleSheet({\n  inputContainer: {\n    justifyContent: 'center',\n    width: '100%',\n  },\n  inputDefault: {\n    height: 56,\n  },\n});\n\nexport default React.memo(ChannelInput);\n"],"mappings":";;;;;;AAAA,IAAAA,MAAA,GAAAC,uBAAA,CAAAC,OAAA;AACA,IAAAC,YAAA,GAAAD,OAAA;AACA,IAAAE,2BAAA,GAAAF,OAAA;AAEA,IAAAG,2BAAA,GAAAH,OAAA;AACA,IAAAI,WAAA,GAAAJ,OAAA;AAcA,IAAAK,WAAA,GAAAL,OAAA;AACA,IAAAM,oBAAA,GAAAC,sBAAA,CAAAP,OAAA;AAGA,IAAAQ,UAAA,GAAAD,sBAAA,CAAAP,OAAA;AACA,IAAAS,UAAA,GAAAF,sBAAA,CAAAP,OAAA;AAAoC,SAAAO,uBAAAG,GAAA,WAAAA,GAAA,IAAAA,GAAA,CAAAC,UAAA,GAAAD,GAAA,KAAAE,OAAA,EAAAF,GAAA;AAAA,SAAAG,yBAAAC,WAAA,eAAAC,OAAA,kCAAAC,iBAAA,OAAAD,OAAA,QAAAE,gBAAA,OAAAF,OAAA,YAAAF,wBAAA,YAAAA,CAAAC,WAAA,WAAAA,WAAA,GAAAG,gBAAA,GAAAD,iBAAA,KAAAF,WAAA;AAAA,SAAAf,wBAAAW,GAAA,EAAAI,WAAA,SAAAA,WAAA,IAAAJ,GAAA,IAAAA,GAAA,CAAAC,UAAA,WAAAD,GAAA,QAAAA,GAAA,oBAAAA,GAAA,wBAAAA,GAAA,4BAAAE,OAAA,EAAAF,GAAA,UAAAQ,KAAA,GAAAL,wBAAA,CAAAC,WAAA,OAAAI,KAAA,IAAAA,KAAA,CAAAC,GAAA,CAAAT,GAAA,YAAAQ,KAAA,CAAAE,GAAA,CAAAV,GAAA,SAAAW,MAAA,WAAAC,qBAAA,GAAAC,MAAA,CAAAC,cAAA,IAAAD,MAAA,CAAAE,wBAAA,WAAAC,GAAA,IAAAhB,GAAA,QAAAgB,GAAA,kBAAAH,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAnB,GAAA,EAAAgB,GAAA,SAAAI,IAAA,GAAAR,qBAAA,GAAAC,MAAA,CAAAE,wBAAA,CAAAf,GAAA,EAAAgB,GAAA,cAAAI,IAAA,KAAAA,IAAA,CAAAV,GAAA,IAAAU,IAAA,CAAAC,GAAA,KAAAR,MAAA,CAAAC,cAAA,CAAAH,MAAA,EAAAK,GAAA,EAAAI,IAAA,YAAAT,MAAA,CAAAK,GAAA,IAAAhB,GAAA,CAAAgB,GAAA,SAAAL,MAAA,CAAAT,OAAA,GAAAF,GAAA,MAAAQ,KAAA,IAAAA,KAAA,CAAAa,GAAA,CAAArB,GAAA,EAAAW,MAAA,YAAAA,MAAA;AAAA,SAAAW,SAAA,IAAAA,QAAA,GAAAT,MAAA,CAAAU,MAAA,GAAAV,MAAA,CAAAU,MAAA,CAAAC,IAAA,eAAAC,MAAA,aAAAC,CAAA,MAAAA,CAAA,GAAAC,SAAA,CAAAC,MAAA,EAAAF,CAAA,UAAAG,MAAA,GAAAF,SAAA,CAAAD,CAAA,YAAAV,GAAA,IAAAa,MAAA,QAAAhB,MAAA,CAAAI,SAAA,CAAAC,cAAA,CAAAC,IAAA,CAAAU,MAAA,EAAAb,GAAA,KAAAS,MAAA,CAAAT,GAAA,IAAAa,MAAA,CAAAb,GAAA,gBAAAS,MAAA,YAAAH,QAAA,CAAAQ,KAAA,OAAAH,SAAA;AAwDpC,MAAMI,UAAU,GAAGC,qBAAQ,CAACC,MAAM,CAAC;EAAEC,GAAG,EAAE,KAAK;EAAEC,OAAO,EAAE,IAAI;EAAEjC,OAAO,EAAE;AAAM,CAAC,CAAC;AACjF,MAAMkC,4BAA4B,GAAGJ,qBAAQ,CAACC,MAAM,CAAC;EAAEC,GAAG,EAAE,SAAkB;EAAEhC,OAAO,EAAEmC;AAAU,CAAC,CAAC;;AAErG;AACA;AACA;AACA,MAAMC,aAAa,GAAIC,WAAoB,IAAMA,WAAW,GAAG,mBAAmB,GAAG,aAAc;;AAEnG;AACA,MAAMC,YAAY,GAAIC,KAAwB,IAAK;EACjD,MAAM;IAAEC,OAAO;IAAEC,mBAAmB;IAAEC,aAAa;IAAEC;EAAiB,CAAC,GAAGJ,KAAK;EAE/E,MAAM;IAAEK,GAAG;IAAEC,IAAI;IAAEC,KAAK;IAAEC;EAAO,CAAC,GAAG,IAAAC,6CAAiB,GAAE;EACxD,MAAM;IAAEC;EAAO,CAAC,GAAG,IAAAC,yCAAa,GAAE;EAClC,MAAM;IAAEC,QAAQ;IAAEC;EAAe,CAAC,GAAG,IAAAC,2BAAe,GAAE;EAEtD,MAAM;IAAEC,SAAS;IAAEC,iBAAiB;IAAEC,YAAY;IAAEC,IAAI;IAAEC,YAAY;IAAEC;EAAe,CAAC,GAAG,IAAAC,4BAAmB,EAAC;IAC7GlB;EACF,CAAC,CAAC;EACF,MAAMmB,SAAS,GAAG,IAAAC,mBAAO,EAAC,MAAM;IAC9B,IAAI,CAACpB,aAAa,EAAE,OAAO,MAAM;IACjC,IAAIA,aAAa,CAACqB,aAAa,EAAE,EAAE,OAAO,MAAM;IAChD,OAAO,MAAM;EACf,CAAC,CAAC;EAEF,MAAMC,gBAAgB,GAAGb,QAAQ,CAACc,kBAAkB,IAAIzB,OAAO,CAAC0B,cAAc,EAAE,IAAI,CAAC1B,OAAO,CAAC2B,WAAW;EACxG,MAAMC,iBAAiB,GAAGhC,aAAa,CAAC4B,gBAAgB,GAAGL,cAAc,CAACjC,MAAM,KAAK,CAAC,GAAG,KAAK,CAAC;EAE/F,MAAM,CAAC2C,WAAW,EAAEC,cAAc,CAAC,GAAG,IAAAC,eAAQ,EAACC,MAAM,CAACC,YAAY,CAACC,MAAM,CAAC;EAE1EC,gBAAgB,CAAClB,IAAI,EAAEjB,OAAO,CAAC;EAC/BoC,4BAA4B,CAACnB,IAAI,EAAEC,YAAY,EAAEnB,KAAK,CAACsC,aAAa,CAAC;EACrEC,sBAAsB,CAACtB,YAAY,EAAEd,aAAa,CAAC;EAEnD,MAAMqC,gBAAgB,GAAGA,CAACC,IAAoB,EAAEC,iBAAwB,KAAK;IAC3E,MAAMC,oBAAoB,GAAG9B,cAAc,CAAC+B,sBAAsB,CAACH,IAAI,EAAE,IAAI,CAAC;IAC9E,MAAMI,KAAK,GAAG;MAAEC,KAAK,EAAEJ,iBAAiB,CAACI,KAAK;MAAEC,GAAG,EAAEL,iBAAiB,CAACI,KAAK,GAAGH,oBAAoB,CAACxD,MAAM,GAAG;IAAE,CAAC;IAEhHgC,YAAY,CAAC,IAAA6B,mBAAO,EAAC9B,IAAI,EAAEwB,iBAAiB,CAACI,KAAK,EAAEJ,iBAAiB,CAACK,GAAG,EAAEJ,oBAAoB,CAAC,EAAE;MAAEF,IAAI;MAAEI;IAAM,CAAC,CAAC;EACpH,CAAC;EAED,IAAI,CAAC7C,KAAK,CAACiD,iBAAiB,EAAE;IAC5B,oBAAOtG,MAAA,CAAAc,OAAA,CAAAyF,aAAA,CAACC,cAAc;MAAChB,MAAM,EAAE3B;IAAO,EAAG;EAC3C;EAEA,oBACE7D,MAAA,CAAAc,OAAA,CAAAyF,aAAA,CAAAvG,MAAA,CAAAc,OAAA,CAAA2F,QAAA,qBACEzG,MAAA,CAAAc,OAAA,CAAAyF,aAAA,CAACpG,YAAA,CAAAuG,oBAAoB;IACnBC,sBAAsB,EAAE,CAAC9C,MAAM,GAAGN,mBAAoB;IACtDqD,QAAQ,EAAE5D;EAA6B,gBAEvChD,MAAA,CAAAc,OAAA,CAAAyF,aAAA,CAACpG,YAAA,CAAA0G,IAAI;IAACC,KAAK,EAAE;MAAEC,WAAW,EAAEpD,IAAI;MAAEqD,YAAY,EAAEpD,KAAK;MAAEqD,eAAe,EAAElD,MAAM,CAACmD;IAAW;EAAE,gBAC1FlH,MAAA,CAAAc,OAAA,CAAAyF,aAAA,CAACpG,YAAA,CAAA0G,IAAI;IAACM,QAAQ,EAAGC,CAAC,IAAKhC,cAAc,CAACgC,CAAC,CAACC,WAAW,CAACC,MAAM,CAAC9B,MAAM,CAAE;IAACsB,KAAK,EAAExB,MAAM,CAACiC;EAAe,GAC9F5C,SAAS,KAAK,MAAM,iBACnB3E,MAAA,CAAAc,OAAA,CAAAyF,aAAA,CAAC5F,UAAA,CAAAG,OAAS,EAAAoB,QAAA,KACJmB,KAAK;IACTzB,GAAG,EAAEsD,iBAAkB;IACvBsC,GAAG,EAAElD,YAAsB;IAC3BC,IAAI,EAAEA,IAAK;IACXC,YAAY,EAAEA,YAAa;IAC3BH,iBAAiB,EAAEA,iBAAkB;IACrCI,cAAc,EAAEA;EAAe,GAElC,EACAE,SAAS,KAAK,MAAM,IAAInB,aAAa,iBACpCxD,MAAA,CAAAc,OAAA,CAAAyF,aAAA,CAAC7F,UAAA,CAAAI,OAAS,EAAAoB,QAAA,KACJmB,KAAK;IACTzB,GAAG,EAAEsD,iBAAkB;IACvBsC,GAAG,EAAElD,YAAsB;IAC3BC,IAAI,EAAEA,IAAK;IACXC,YAAY,EAAEA,YAAa;IAC3BiD,SAAS,EAAE9E,UAAW;IACtB0B,iBAAiB,EAAEA,iBAAkB;IACrCb,aAAa,EAAEA,aAAc;IAC7BiB,cAAc,EAAEA,cAAe;IAC/BhB,gBAAgB,EAAEA;EAAiB,GAEtC,CACI,eACPzD,MAAA,CAAAc,OAAA,CAAAyF,aAAA,CAACC,cAAc;IAAChB,MAAM,EAAE3B;EAAO,EAAG,CAC7B,CACc,EACtBiB,gBAAgB,IAAIzB,KAAK,CAACqE,oBAAoB,iBAC7C1H,MAAA,CAAAc,OAAA,CAAAyF,aAAA,CAAClD,KAAK,CAACqE,oBAAoB;IACzBnD,IAAI,EAAEA,IAAK;IACXH,SAAS,EAAEA,SAAU;IACrBe,WAAW,EAAEA,WAAY;IACzBwC,QAAQ,EAAEjE,GAAI;IACdkE,WAAW,EAAE/D,MAAO;IACpBgC,gBAAgB,EAAEA,gBAAiB;IACnCpB,cAAc,EAAEA;EAAe,EAElC,CACA;AAEP,CAAC;AAED,MAAMgB,gBAAgB,GAAGA,CAAClB,IAAY,EAAEjB,OAA4B,KAAK;EACvE,IAAIA,OAAO,CAAC0B,cAAc,EAAE,EAAE;IAC5B,IAAA6C,gBAAS,EAAC,MAAM;MACd,IAAItD,IAAI,CAAC/B,MAAM,KAAK,CAAC,EAAEc,OAAO,CAACwE,SAAS,EAAE,CAAC,KACtCxE,OAAO,CAACyE,WAAW,EAAE;IAC5B,CAAC,EAAE,CAACxD,IAAI,CAAC,CAAC;EACZ;AACF,CAAC;AAED,MAAMmB,4BAA4B,GAAGA,CAACnB,IAAY,EAAEyD,OAA8B,EAAEC,YAAqB,KAAK;EAC5G,MAAMC,UAAU,GAAG,IAAAC,aAAM,EAAC,EAAE,CAAC;EAE7B,IAAAN,gBAAS,EAAC,MAAM;IACd,IAAII,YAAY,EAAE;MAChBC,UAAU,CAACE,OAAO,GAAG7D,IAAI;MACzByD,OAAO,CAAC,EAAE,CAAC;IACb,CAAC,MAAM;MACLA,OAAO,CAACE,UAAU,CAACE,OAAO,CAAC;IAC7B;EACF,CAAC,EAAE,CAACH,YAAY,CAAC,CAAC;AACpB,CAAC;AAED,MAAMrC,sBAAsB,GAAGA,CAC7BtB,YAAqD,EACrDd,aAAmC,KAChC;EACH,IAAAqE,gBAAS,EAAC,MAAM;IACd,IAAIrE,aAAa,aAAbA,aAAa,eAAbA,aAAa,CAAE6E,aAAa,EAAE,EAAE;MAClC,IAAI,CAAC1F,UAAU,EAAE2F,UAAU,CAAC;QAAA,IAAAC,qBAAA;QAAA,QAAAA,qBAAA,GAAMjE,YAAY,CAAC8D,OAAO,cAAAG,qBAAA,uBAApBA,qBAAA,CAAsBC,KAAK,EAAE;MAAA,GAAE,GAAG,CAAC;IACvE;EACF,CAAC,EAAE,CAAChF,aAAa,CAAC,CAAC;AACrB,CAAC;AAED,MAAMgD,cAAc,GAAGiC,IAAA,IAAoC;EAAA,IAAnC;IAAEjD;EAA2B,CAAC,GAAAiD,IAAA;EACpD,oBAAOzI,MAAA,CAAAc,OAAA,CAAAyF,aAAA,CAACpG,YAAA,CAAA0G,IAAI;IAACC,KAAK,EAAE;MAAEtB;IAAO;EAAE,EAAG;AACpC,CAAC;AAED,MAAMF,MAAM,GAAG,IAAAoD,4CAAgB,EAAC;EAC9BnB,cAAc,EAAE;IACdoB,cAAc,EAAE,QAAQ;IACxBC,KAAK,EAAE;EACT,CAAC;EACDrD,YAAY,EAAE;IACZC,MAAM,EAAE;EACV;AACF,CAAC,CAAC;AAAC,IAAAqD,QAAA,gBAEYC,cAAK,CAACC,IAAI,CAAC3F,YAAY,CAAC;AAAA4F,OAAA,CAAAlI,OAAA,GAAA+H,QAAA"}