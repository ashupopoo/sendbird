{"version":3,"names":["pubsub","subscribers","Set","publish","data","forEach","subscriber","subscribe","add","delete","_default","exports","default"],"sources":["pubsub.ts"],"sourcesContent":["export type PubSub<T> = {\n  publish: (data: T) => void;\n  subscribe: (subscriber: (data: T) => void) => () => void;\n};\n\nconst pubsub = <T>(): PubSub<T> => {\n  const subscribers = new Set<Function>();\n\n  return {\n    publish: (data: unknown) => {\n      subscribers.forEach((subscriber) => subscriber(data));\n    },\n    subscribe: (subscriber: Function) => {\n      subscribers.add(subscriber);\n      return () => subscribers.delete(subscriber);\n    },\n  };\n};\n\nexport default pubsub;\n"],"mappings":";;;;;;AAKA,MAAMA,MAAM,GAAGA,CAAA,KAAoB;EACjC,MAAMC,WAAW,GAAG,IAAIC,GAAG,EAAY;EAEvC,OAAO;IACLC,OAAO,EAAGC,IAAa,IAAK;MAC1BH,WAAW,CAACI,OAAO,CAAEC,UAAU,IAAKA,UAAU,CAACF,IAAI,CAAC,CAAC;IACvD,CAAC;IACDG,SAAS,EAAGD,UAAoB,IAAK;MACnCL,WAAW,CAACO,GAAG,CAACF,UAAU,CAAC;MAC3B,OAAO,MAAML,WAAW,CAACQ,MAAM,CAACH,UAAU,CAAC;IAC7C;EACF,CAAC;AACH,CAAC;AAAC,IAAAI,QAAA,GAEaV,MAAM;AAAAW,OAAA,CAAAC,OAAA,GAAAF,QAAA"}